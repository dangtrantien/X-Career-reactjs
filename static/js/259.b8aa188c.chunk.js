"use strict";(self.webpackChunkx_career_reactjs=self.webpackChunkx_career_reactjs||[]).push([[259],{54259:function(e,a,t){t.r(a);var r=t(72791),n=t(5289),s=t(64554),i=t(65661),o=t(94721),l=t(39157),c=t(61889),d=t(20890),m=t(28029),h=t(10765),x=t(85523),p=t(61419),u=t(24518),g=t(62062),j=t.n(g),Z=t(54233),v=t(9707),y=t(26594),f=t(73243),b=t(44428),C=t(39910),w=t(80184);const P=new Z.Z,E=(0,b.ZP)(C.h);a.default=e=>{const{open:a,onClose:t,formData:g}=e,[Z,b]=(0,r.useState)({}),C=()=>{t(!a)},I=e=>{const a=e.target.name,t=e.target.value;b({...Z,[a]:t})};return(0,r.useEffect)((()=>{b(g)}),[g]),(0,w.jsx)(w.Fragment,{children:(0,w.jsx)(n.Z,{open:a,onClose:C,scroll:"body",children:(0,w.jsxs)(s.Z,{component:"form",onSubmit:async e=>{e.preventDefault();const r=new FormData(e.currentTarget),n={name:r.get("name"),email:r.get("email"),gender:r.get("gender"),group:r.get("group"),position:r.get("position"),address:r.get("address")};if(""!==r.get("avatar").name){const e=await(0,y.Z)(r.get("avatar"));"image/"===e.type.match(/[^:/]\w+\//)[0]?(n.avatar=e,P.updateByID(Z._id,n).then((e=>{!0===e.data.success&&(E.emit("user",e.data.data),j()({text:"Successfully updated profile.",buttons:!1,timer:3e3,icon:"success"}),setTimeout((()=>{t(!a)}),3e3))})).catch((()=>{j()({text:"Sorry, something went wrong. Please contact to admin for support.",buttons:!1,timer:5e3,icon:"error"})}))):j()({text:"Wrong file's type, please choose only image.",buttons:!1,timer:3e3,icon:"warning"})}else P.updateByID(Z._id,n).then((e=>{!0===e.data.success&&(E.emit("user",e.data.data),j()({text:"Successfully updated profile.",buttons:!1,timer:3e3,icon:"success"}),setTimeout((()=>{t(!a)}),3e3))})).catch((()=>{j()({text:"Sorry, something went wrong. Please contact to admin for support.",buttons:!1,timer:5e3,icon:"error"})}))},noValidate:!0,sx:{mt:1},children:[(0,w.jsx)(i.Z,{sx:{textAlign:"center"},color:"primary",variant:"h2",children:"Edit profile"}),(0,w.jsx)(o.Z,{sx:{borderBottom:"1px solid"}}),(0,w.jsxs)(l.Z,{spacing:2,children:[(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",children:[(0,w.jsx)(d.Z,{sx:{mr:9},color:"primary",variant:"h5",children:"Avatar:"}),Z.avatar&&(0,w.jsx)(v.Z,{defaultValue:Z.avatar.data,name:"avatar"})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",sx:{height:70},children:[(0,w.jsx)(d.Z,{sx:{mr:2},color:"primary",variant:"h5",children:"Display name:"}),(0,w.jsx)(m.Z,{id:"name",type:"text",value:Z.name,name:"name",onChange:I,placeholder:"Enter display name"})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",sx:{height:70},children:[(0,w.jsx)(d.Z,{sx:{mr:2},color:"primary",variant:"h5",children:"Email address:"}),(0,w.jsx)(m.Z,{id:"email",type:"email",value:Z.email,name:"email",onChange:I,placeholder:"Enter email address"})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",sx:{height:70},children:[(0,w.jsx)(d.Z,{sx:{mr:8},color:"primary",variant:"h5",children:"Gender:"}),(0,w.jsxs)(h.Z,{row:!0,name:"gender",value:Z.gender,onChange:I,children:[(0,w.jsx)(x.Z,{value:"Female",control:(0,w.jsx)(p.Z,{}),label:"Female"}),(0,w.jsx)(x.Z,{value:"Male",control:(0,w.jsx)(p.Z,{}),label:"Male"})]})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",sx:{height:70},children:[(0,w.jsx)(d.Z,{sx:{mr:8},color:"primary",variant:"h5",children:"Group:"}),(0,w.jsx)(m.Z,{id:"group",type:"text",value:Z.group,name:"group",onChange:I,placeholder:"Enter group"})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",sx:{height:70},children:[(0,w.jsx)(d.Z,{sx:{mr:6},color:"primary",variant:"h5",children:"Position:"}),(0,w.jsx)(m.Z,{id:"position",type:"text",value:Z.position,name:"position",onChange:I,placeholder:"Enter position"})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",sx:{height:70},children:[(0,w.jsx)(d.Z,{sx:{mr:6},color:"primary",variant:"h5",children:"Address:"}),(0,w.jsx)(m.Z,{id:"address",type:"text",name:"address",value:Z.address,onChange:I,placeholder:"Enter address"})]}),(0,w.jsxs)(c.ZP,{container:!0,alignItems:"center",justifyContent:"space-around",sx:{mt:4},children:[(0,w.jsx)(f.Z,{sx:{mr:4},children:(0,w.jsx)(u.Z,{disableElevation:!0,size:"large",onClick:C,variant:"contained",color:"secondary",children:"Cancel"})}),(0,w.jsx)(f.Z,{children:(0,w.jsx)(u.Z,{disableElevation:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Save"})})]})]})]})})})}}}]);
//# sourceMappingURL=259.b8aa188c.chunk.js.map